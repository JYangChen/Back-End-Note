## Spring







## MyBatis

### MyBatis中 # 和 $ 的区别是什么？

**能用#号就尽量不要使用$符号**，它们的区别主要体现在下边几点：

- \#符号将传入的数据都当做一个字符串，会对自动传入的数据加一个双引号
- $符号将传入的数据**直接显示**在生成的SQL语句中。
- \#符号**存在预编译的过程**，对问号赋值，防止**SQL注入**。
- $符号是**直译**的方式，一般用在**order by ${列名}**语句中。

### MyBatis的缓存机制

- **一级缓存（同一个SqlSession）:**

基于 HashMap的本地缓存，其存储作用域为 Session，当 Session flush 或 close 之后，该 Session 中的所有缓存就将清空，默认打开一级缓存。

- **二级缓存（同一个SqlSessionFactory）：**

二级缓存与一级缓存其机制相同，默认也是采用 HashMap的本地存储，不同在于其存储作用域为 Mapper(Namespace)，并且可自定义存储源。